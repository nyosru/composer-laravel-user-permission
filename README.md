эта штука (с веб интерфейсом и небольшой установкой) для управления правами пользователей в вашем проекте

# установка и запуск

установка пакета композер ( так же установится и phpcatcom/laravel-permission )

    composer require phpcatcom/laravel-permission-gui

установка  баз данных

    php artisan migrate

для контроля доступа к роутам, роутам нужно назначить мидлваре

    Route::get('/***', [***::class,'***'])
    ->middleware(['auth.role'])
    ->name('***');

или роуты что есть положить в группу


    Route::group(['middleware' => 'auth.role'],
    function () {

    Route::***
    === тут роуты что будут участовать при управлении доступами
    Route::***

    });

заходим в веб интерфейс

    ** ваш домен **/phpcatcom/permission/

и можно работать с ролями

---

первый сценарий для работы с ролями

    + создаёте роль
    + назначаете эту роль вашему пользователю
    + даёте и отключаете доступ к роуту, проверяете на сайте


---

Права доступа работают только тогда когда из роута идёт вызов контроллера, роут внутри которого функция и какойто код не получается ограничить по мидлваре что используем

такой сработает

    Route::get('/dashboard3', [\App\Http\Controllers\JobController::class, 'index'])
    ->name('dashboard3');

а такой нет

    Route::get('/dashboard2', function () {
    return view('dashboard2');
    })
    ->name('dashboard2');
